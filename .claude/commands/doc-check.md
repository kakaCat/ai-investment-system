# 文档规范检查

检查文档是否符合金字塔原则和项目文档管理规范。

---

请检查 $ARGUMENTS 的文档规范：

## 检查范围
- 如果参数为空，检查整个 `docs/` 目录
- 如果指定了路径，只检查该路径

## 检查项

### 1. 目录结构检查
- [ ] 每个目录是否有 `README.md` 索引文件
- [ ] README 是否包含：What、Why、Structure、Index
- [ ] 目录命名是否使用小写短横线 (kebab-case)

### 2. 文件命名检查
- [ ] 文件名是否使用小写短横线
- [ ] 版本文件是否使用 `-v{n}` 后缀
- [ ] 日期文件是否使用 `YYYY-MM-DD-` 前缀

### 3. 文件大小检查
- [ ] 是否有超过 2000 行的文件需要拆分
- [ ] 大文件是否已拆分到 `sections/` 子目录

### 4. 链接检查
- [ ] 内部链接是否使用相对路径
- [ ] 链接目标是否存在
- [ ] 是否有断开的链接

### 5. 内容规范检查
- [ ] 是否有更新日期
- [ ] 是否有版本标识（如需要）
- [ ] 标题层级是否正确

### 6. 归档检查
- [ ] 废弃文档是否移到 `docs/archive/`
- [ ] 归档文件是否有日期前缀

## 输出格式

```
## 文档规范检查报告

### 📊 检查统计
- 检查目录数: X
- 检查文件数: X
- 合规率: X%

### ✅ 合规项
- [符合规范的项目]

### ❌ 违规项

#### 目录结构问题
| 目录 | 问题 | 修复方法 |
|------|------|----------|
| `docs/xxx/` | 缺少 README.md | 创建索引文件 |

#### 命名问题
| 文件 | 问题 | 建议名称 |
|------|------|----------|
| `docs/xxx/ABC.md` | 应使用小写 | `abc.md` |

#### 大文件问题
| 文件 | 行数 | 建议 |
|------|------|------|
| `docs/xxx/big.md` | 3500 | 拆分到 sections/ |

#### 链接问题
| 文件 | 行号 | 断开链接 |
|------|------|----------|
| `docs/xxx.md` | 42 | `./not-exist.md` |

### 🔧 修复建议

#### 优先修复 (P0)
1. [缺少 README 的目录]

#### 建议修复 (P1)
1. [命名不规范]
2. [大文件需拆分]

#### 可选修复 (P2)
1. [格式优化]

### 📝 缺失的 README 模板

对于缺少 README 的目录，建议内容：

```markdown
# {目录名称}

> {一句话描述}

## 包含内容
- {内容1}
- {内容2}

## 目录结构
```
{目录}/
├── file1.md
└── file2.md
```

## 文档索引
- [文档1](./file1.md) - 描述
- [文档2](./file2.md) - 描述
```
```

## 参考规范
- ~/.claude/CLAUDE.md - 全局文档管理规范（金字塔原理）
- docs/standards/ - 项目文档标准
