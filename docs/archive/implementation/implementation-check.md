# 前端实现 vs 原型图/PRD 对比检查

> 检查日期: 2025-11-16
> 目的: 发现实现与设计的偏差，严格按原型图修正

---

## 🚨 核心问题

**系统定位**: 以用户持仓股票操作为核心的投资管理系统，**不是**股票资讯系统

**用户核心需求**:
1. 快速查看我的持仓股票有什么事件
2. AI建议我如何操作这些股票
3. 记录交易、调整持仓

---

## 1. 侧边栏菜单对比

### 原型图要求 (wireframes/README.md)

**应该有的菜单项**:
1. **仪表盘** (Dashboard) - 总览
2. **账户管理** - 账户列表 → 点击进入账户详情
3. **持仓管理** - 所有持仓 → 点击进入股票详情
4. **交易记录** - 交易历史
5. **事件中心** - 事件浏览筛选
6. **AI分析** - 持仓分析、策略生成
7. **系统设置** - 设置

**不应该有的菜单项**:
- ❌ **股票信息** / **股票列表** - 这不是核心功能

### 我的实现 (MainLayout.vue)

```
✅ 仪表盘
✅ 账户管理
✅ 持仓管理
✅ 交易记录
❌ 股票信息  <-- 多余，应该删除
✅ 事件中心
✅ AI分析
✅ 系统设置
```

**修正措施**:
- [x] 删除"股票信息"菜单项
- [x] 删除 StocksList.vue 文件（或改为内部组件）
- [x] 更新路由配置

---

## 2. Dashboard 页面对比

### 原型图要求 (wireframes/01-dashboard.md)

**必需模块**:

1. **账户总览卡片**
   - 总资产 + 涨跌幅
   - 4个指标: 总资金、已投资、流动资金、今日盈亏

2. **账户列表区域**（左侧）
   - 显示所有账户
   - 每个账户显示: 账号、总资金、已投资、流动资金百分比
   - [+ 添加账户] 按钮

3. **事件提醒区域**（右侧）🚨
   - 按重要性分级: 🔴重要 / 🟠关注
   - 显示事件对持仓的影响
   - [查看详情] 按钮

4. **持仓概览表格**
   - 显示所有持仓（跨账户）
   - 列: 代码、名称、持仓、成本价、现价、盈亏、占比
   - 点击行进入股票详情

5. **快速操作面板**（左下）
   - 搜索股票、记录交易、AI策略、事件日历、策略复盘

6. **AI策略建议**（右下）
   - 基于持仓和流动资金的建议
   - 3-5条具体操作
   - [查看完整分析] 按钮

### 我的实现 (Dashboard.vue) 检查

**我实现的模块**:
1. ✅ 总览卡片 (4个: 总资产、总盈亏、账户数量、今日收益)
2. ✅ 资产趋势图 (ECharts 30天曲线)
3. ✅ 账户概览 (列表显示，但在主区域)
4. ✅ 最近交易 (表格)
5. ✅ 快捷操作 (4个按钮)
6. ✅ 涨跌幅榜 (右侧)

**差异分析**:

| 原型要求 | 我的实现 | 符合度 | 问题 |
|---------|---------|--------|------|
| 账户列表(左侧) + 事件提醒(右侧) | 账户列表(中间主区) | ❌ 50% | 布局不对，缺少事件提醒区域 |
| 事件提醒 🚨 | 无 | ❌ 0% | **缺少核心功能** - 事件是v3.1核心！ |
| 持仓概览表格 | 无 | ❌ 0% | 缺少，无法快速看到所有持仓 |
| AI策略建议 | 无 | ❌ 0% | 缺少，无法给用户操作建议 |
| 快速操作 | 有 | ✅ 80% | 基本符合 |
| 资产趋势图 | 有 | ⚠️ | 原型图无此项，但有价值 |
| 涨跌幅榜 | 有 | ⚠️ | 原型图无此项，偏资讯系统 |
| 最近交易 | 有 | ⚠️ | 原型图无此项，价值一般 |

**严重问题**:
1. ❌ **缺少事件提醒区域** - 这是v3.1核心功能！
2. ❌ **缺少持仓概览表格** - 用户无法快速看到所有股票
3. ❌ **缺少AI策略建议** - 无法告诉用户该怎么操作
4. ⚠️ **布局错误** - 应该是左右分栏，不是全屏主区

**修正措施**:
- [ ] 重新设计布局: 左侧账户列表 + 右侧事件提醒
- [ ] 添加事件提醒模块（关键！）
- [ ] 添加持仓概览表格
- [ ] 添加AI策略建议模块
- [ ] 移除/简化: 涨跌幅榜、最近交易（或移到其他页面）

---

## 3. 账户详情页对比

### 原型图要求 (wireframes/02-account-detail.md)

**"我的股票" Tab 结构**:
1. **持仓股票列表**
   - 表格显示
   - 汇总: 市值、成本、盈亏
   - 操作: [详情] [记录卖出] [AI分析]

2. **关注股票列表** ⭐
   - 显示未持有但关注的股票
   - 显示: 现价、目标价、偏离度、关注度、AI建议
   - 可展开查看详情
   - 快速操作: [记录建仓] [移除关注] [查看详情]

### 我的实现检查

| 原型要求 | 我的实现 | 符合度 |
|---------|---------|--------|
| 持仓股票列表 | ✅ 有 | ✅ 90% |
| 关注股票列表 | ✅ 有 | ✅ 85% |
| 可展开详情 | ✅ 有 | ✅ 80% |
| Tab结构 | ✅ 有 (4个Tab) | ✅ 100% |
| 8个指标卡片 | ✅ 有 | ✅ 100% |

**结论**: 账户详情页基本符合原型，细节需微调

---

## 4. 股票详情页对比

### 原型图要求 (wireframes/03-stock-detail.md)

**核心Tab**:
1. **走势图** - K线/分时图
2. **事件时间线** ⭐ - 该股票相关的所有事件
3. **我的持仓** - 在哪些账户持有、成本、盈亏
4. **AI分析** - AI对该股票的分析建议
5. **公司信息** - 基本面
6. **财务数据** - 财报数据

**关键特性**:
- 事件卡片显示AI影响分析
- 可查看事件对我的持仓的影响
- 快速操作: [记录交易] [设置提醒] [AI建议]

### 我的实现 (StockDetail.vue) 检查

**我实现的Tab**:
1. ✅ K线图
2. ✅ 财务数据
3. ⚠️ 相关事件（名称不同，内容需确认）
4. ⚠️ AI分析（名称不同，内容需确认）

**缺失Tab**:
- ❌ **我的持仓** - 关键！无法看到我在哪些账户持有
- ❌ **事件时间线** - 应该是独立Tab，显示时间线格式

**修正措施**:
- [ ] 添加"我的持仓"Tab（显示该股票在各账户的持仓）
- [ ] 将"相关事件"改为"事件时间线"，使用时间线UI
- [ ] 确认AI分析Tab内容是否符合原型
- [ ] 事件卡片需显示AI影响分析

---

## 5. 不应该存在的页面

### StocksList.vue (股票列表页)

**问题**:
- ❌ 原型图中**没有**这个页面
- ❌ 这是股票资讯系统的功能，不是持仓管理系统
- ❌ 用户不需要浏览所有股票，只需要关注自己持有/关注的股票

**访问股票详情的正确路径**:
1. Dashboard → 点击持仓行 → 股票详情
2. 账户详情 → 点击持仓/关注股票 → 股票详情
3. 持仓管理 → 点击股票 → 股票详情
4. 事件中心 → 点击关联股票 → 股票详情

**修正措施**:
- [x] 删除"股票信息"菜单项
- [x] 删除 StocksList.vue 或改为搜索组件
- [x] 移除 /stocks 路由

---

## 6. 事件中心页面 (暂未详查)

### 需要检查

- [ ] 对比 wireframes/04-event-center.md
- [ ] 确认筛选功能、事件卡片、批量分析功能

---

## 7. 持仓分析页面 (暂未详查)

### 需要检查

- [ ] 对比 wireframes/05-portfolio-analysis.md
- [ ] 确认事件影响矩阵、AI组合建议

---

## 修复优先级

### P0 - 必须立即修复

1. ❌ **Dashboard缺少事件提醒** - v3.1核心功能
2. ❌ **Dashboard缺少持仓概览** - 用户无法快速查看持仓
3. ❌ **Dashboard缺少AI建议** - 无法给用户操作指引
4. ❌ **Dashboard布局错误** - 应该左右分栏
5. ❌ **删除股票列表页** - 不符合系统定位
6. ❌ **股票详情缺少"我的持仓"Tab** - 无法看到持仓分布

### P1 - 重要优化

7. ⚠️ **股票详情事件时间线UI** - 改为时间线格式
8. ⚠️ **账户详情页微调** - 细节优化

### P2 - 次要优化

9. ⚠️ **移除Dashboard的涨跌幅榜** - 偏资讯系统
10. ⚠️ **移除Dashboard的最近交易** - 价值不大

---

## 总结

**符合度评估**:
- Dashboard: ❌ **30%** - 缺少核心模块
- 账户详情: ✅ **85%** - 基本符合
- 股票详情: ⚠️ **60%** - 缺少关键Tab
- 侧边栏: ⚠️ **85%** - 多了股票列表

**核心问题**:
1. 偏向"股票资讯系统"而非"持仓管理系统"
2. 缺少事件驱动的核心功能展示
3. Dashboard没有给用户明确的操作指引

**下一步**:
1. 重新实现Dashboard（严格按原型）
2. 删除股票列表页
3. 修复股票详情页缺失Tab
4. 整体检查事件中心和持仓分析页
